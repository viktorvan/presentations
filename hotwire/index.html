<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Hotwire</title>

    <link rel="stylesheet" href="../dist/reveal.css">
    <link rel="stylesheet" href="../dist/theme/black.css" id="theme">

    <link rel="stylesheet" href="../plugin/highlight/monokai.css">
</head>

<body>

    <div class="reveal">

        <div class="slides">

            <section>
                <img src="/slides/assets/partners.png" />
            </section>


            <!-- HOTWIRE  -->

            <section>
                <section data-auto-animate>
                    <h1 class="r-fit-text">Hotwire</h1>
                </section>

                <section data-auto-animate>
                    <h1 class="r-fit-text" style="color:darkgray;">Hotwire</h1>
                    <p style="color:gray;"><strong style="color: white;">H</strong style="color: white;">TML <strong
                            style="color: white;">O</strong>ver <strong style="color: white;">T</strong>he <strong
                            style="color:white;">WIRE</strong></p>
                </section>

                <section data-background-iframe="https://hotwire.dev">
                    <aside class="notes">
                        History: Turbolinks + Stimlus
                        Ruby on Rails
                        Backend agnostic
                    </aside>
                </section>

                <section data-background-iframe=>
                    <a href="https://github.com/josephsavona/rfcs/blob/server-components/text/0000-server-components.md">React server components</a>
                </section>

            </section>



            <!-- HOTWIRE - INTRO -->

            <section>
                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Hotwire</h1>
                        <p><small>Javascript library in two parts:</small></p>
                        <p>turbo</p>
                        <p>stimulus</p>
                    </div>

                    <aside class="notes">
                        Omakase, use the parts you want
                        Ruby on Rails, Convention over configuration
                    </aside>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Hotwire</h1>
                        <p style="color:gray;"><small>Javascript library in two parts:</small></p>
                        <p style="color:gray">turbo</p>
                        <p><small>build single-page webapps without javascript using HTML over the wire</small></p>
                        <p>stimulus</p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Hotwire</h1>
                        <p style="color:gray;"><small>Javascript library in two parts:</small></p>
                        <p style="color:gray">turbo</p>
                    <p><small>build single-page webapps without javascript using HTML over the wire</small></p>
                        <p style="color:gray">stimulus</p>
                        <p><small>javascript framework for static or server-rendered HTML</small></p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Hotwire</h1>
                        <p style="color:gray;"><small>Javascript library in two parts:</small></p>
                        <p>turbo<del>links</del></p>
                        <p><small>build single-page webapps without javascript using HTML over the wire</small></p>
                        <p style="color:gray">stimulus</p>
                        <p><small>javascript framework for static or server-rendered HTML</small></p>
                    </div>
                </section>
            </section>



            <!-- TURBO -->

            <section>

                <section data-auto-animate>
                    <h1 class="r-fit-text">Turbo</h1>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Turbo</h1>
                        <p><span>turbo drive</span> <span style="color:gray;" class="fragment fade-left">(used to be turbolinks)</span></p>
                        <p>turbo frames</p>
                        <p>turbo streams</p>
                    </div>
                </section>
            </section>



            <!-- TURBO DRIVE -->

            <section>
                <section data-auto-animate>
                    <h1 class="r-fit-text">Turbo drive</h1>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color:gray;">Turbo drive</h1>
                        <p>When a user <span style="color:red;">clicks</span> a link or <span style="color:red;">posts</span> a form</p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color:gray;">Turbo drive</h1>
                        <p style="color:gray;">When a user <span style="color:red;">clicks</span> a link or <span style="color:red;">posts</span> a form</p>
                        <p>Turbo drive <span style="color:red;">intercepts</span> and <span style="color:red;">prevents</span> the default behaviour (full page reload)</p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color:gray;">Turbo drive</h1>
                        <p style="color:gray;">When a user <span style="color:red;">clicks</span> a link or <span style="color:red;">posts</span> a form</p>
                        <p style="color:gray;">Turbo drive <span style="color:red;">intercepts</span> and <span style="color:red;">prevents</span> the default behaviour (full page reload)</p>
                        <p>Turbo drive <span style="color:red;">fetches</span> the request in the <span style="color:red;">background</span></p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color:gray;">Turbo drive</h1>
                        <p style="color:gray;">When a user <span style="color:red;">clicks</span> a link or <span style="color:red;">posts</span> a form</p>
                        <p style="color:gray;">Turbo drive <span style="color:red;">intercepts</span> and <span style="color:red;">prevents</span> the default behaviour (full page reload)</p>
                        <p style="color:gray;">Turbo drive <span style="color:red;">fetches</span> the request in the <span style="color:red;">background</span></p>
                        <p>it <span style="color:red;">replaces</span> the documents html <span style="color:red;">body</span> with the one from the response</p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color:gray;">Turbo drive</h1>
                        <p style="color:gray;">When a user <span style="color:red;">clicks</span> a link or <span style="color:red;">posts</span> a form</p>
                        <p style="color:gray;">Turbo drive <span style="color:red;">intercepts</span> and <span style="color:red;">prevents</span> the default behaviour (full page reload)</p>
                        <p style="color:gray;">Turbo drive <span style="color:red;">fetches</span> the request in the <span style="color:red;">background</span></p>
                        <p style="color:gray;">it <span style="color:red;">replaces</span> the documents html <span style="color:red;">body</span> with the one from the response</p>
                        <p>it <span style="color:red;">appends</span> any new content in the html <span style="color:red;">head</span> to the documents html head</span></p>
                    </div>
                </section>

                <section data-auto-animate>
                    <h1 class="r-fit-text">Turbo drive</h1><br/>
                    <a href="https://active-game-night-test.azurewebsites.net/">demo</a>
                </section>

            </section>



            <!-- TURBO FRAMES -->

            <section>
                <section data-auto-animate>
                    <h1 class="r-fit-text">Turbo Frames</h1>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Turbo frames</h1>
                        <p>Turbo frames divides a page into independent contexts where you can navigate freely</p>
                        <p class="fragment">Like Turbo Drive, but for a section of the page</p>
                    </div>

                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Turbo frames</h1>
                    </div>

                    <pre><code data-trim data-line-numbers=2,6|5|8,12-13>
                        <div>
                            <turbo-frame id="message_1">
                                <h1>My message title</h1>
                                <p>My message content</p>
                                <a href="/messages/1/edit">Edit this message</a>
                            </turbo-frame>
                        
                            <turbo-frame id="comments">
                                <div id="comment_1">One comment</div>
                                <div id="comment_2">Two comments</div>
                        
                                <form action="/messages/comments">...</form>
                            </turbo-frame>
                        </div>
                    </code></pre>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Turbo frames</h1>
                        <p>lazy loading</p>
                    </div>

                    <pre><code data-trim data-line-numbers=8,11>
                        <div>
                            <h1>Imbox</h1>
                        
                            <div id="emails">
                                ...
                            </div>
                        
                            <turbo-frame src="/emails/set_aside" id="set_aside_tray">
                            </turbo-frame>
                        
                            <turbo-frame src="/emails/reply_later" id="reply_later_tray">
                            </turbo-frame>
                        </div>
                    </code></pre>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Turbo frames</h1>
                        <p>targets</p>
                    </div>

                    <pre><code data-trim data-line-numbers=|3|3,7|3,7,12>
                        <div>
                            <turbo-frame id="message_1">
                                <a href="/messages/1/edit">
                                    <!-- Edit this message (within the current frame) -->
                                </a>
                        
                                <a href="/messages/1/permission" data-turbo-frame="_top">
                                    <!-- Change permissions (replace the whole page) -->
                                </a>
                            </turbo-frame>
                        
                            <form action="/messages/1/delete" data-turbo-frame="message_1">
                                <input type="submit" value="Delete this message">
                            </form>
                        </div>
                    </code></pre>
                </section>

                <section data-auto-animate>
                    <h1 class="r-fit-text">Turbo frames</h1><br/>
                    <a href="https://active-game-night-test.azurewebsites.net/">demo</a>
                    <aside class="notes">
                        Games-page: 
                        each game is in a turbo-frame
                        Normal use: edit
                        Target another frame: Add new game: link is turbo-frame save button has allGames turboframe as target
                    </aside>
                </section>

            </section>



            <!-- TURBO STREAMS -->

            <section>
                <section data-auto-animate>
                    <h1 class="r-fit-text">Turbo Streams</h1>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Turbo Streams</h1>
                        <p>CRUD operations against the DOM</p>
                        <code class="fragment" data-fragment-index="1" style="font-size: 18pt;">
                            Actions:
                            append
                            prepend
                            replace
                            update
                            remove
                        </code>
                    </div>

                    <pre class="fragment" data-fragment-index="2"><code data-trim data-line-numbers=|1|2-7>
                        <turbo-stream action="replace" target="message_1">
                            <template>
                                <div id="message_1">
                                    <!-- This div will replace the existing element 
                                        with the DOM ID "message_1". -->
                                </div>
                            </template>
                        </turbo-stream>
                    </code></pre>

                    <div style="text-align: left;">
                        <code class="fragment" data-fragment-index="2" style="font-size: 18pt;">Content-Type: text/vnd.turbo-stream.html</code>
                    </div>

                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Turbo Streams</h1>
                        <p>Where can they be used?</h4>
                        <p class="fragment">Almost anywhere, but most useful:</p>
                        <p class="fragment">As a response to a form</p>
                        <p class="fragment">Over websockets / server-sent-events</p>
                    </div>
                </section>

                <section data-auto-animate>
                    <h1 class="r-fit-text">Turbo streams</h1><br/>
                    <a href="https://active-game-night-test.azurewebsites.net/">demo</a>

                    <aside class="notes">
                        Edit Game: form errors
                        Add GameNight: Add more inputs
                        SSE: Votes
                    </aside>
                </section>
            </section>



            <!-- STIMULUS -->

            <section>

                <section data-auto-animate>
                    <h1 class="r-fit-text">Stimulus</h1>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Stimulus</h1>
                        <p><em>Stimulus is a javascript framework designed to enhance static or server-rendered HTML</em></p>
                        <p><em>—by connecting JavaScript 'controllers' to elements on the page using simple annotations.</em></p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Stimulus</h1>
                    </div>

                    <pre><code data-trim data-line-numbers=|1|2>
                        <div data-controller="my-controller">
                            <button data-action="click->my-controller#showAlert">
                                Alert me!
                            </button>
                        </div>
                    </code></pre>

                    <pre class="fragment"><code data-trim data-line-numbers>
                        // src/controllers/greet_controller.js

                        import {Controller} from "stimulus"

                        export default class extends Controller {
                            showAlert() {
                                alert("Hello there!!");
                            }
                        }
                    </code></pre>

                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Stimulus</h1>
                        <p><small>Target elements</small></p>
                    </div>

                    <pre><code data-trim data-line-numbers=1|2-4|5>

                    <div data-controller="greet-viktor">
                        <input type="text" data-greet-viktor-target="input" />
                        <div style="color:red;" data-greet-viktor-target="errorMessage"></div>
                        <div data-greet-viktor-target="greeting"></div>
                        <button data-action="click->greet-viktor#showGreeting">
                            Greet!
                        </button>
                    </div>
                    </code></pre>

                    <pre class="fragment"><code data-trim data-line-numbers=2|5,6,9>
                        export default class extends Controller {
                            static targets = ["input", "errorMessage", "greeting"]

                            showGreeting() {
                                if (this.inputTarget.value != "Viktor") {
                                    this.errorMessageTarget.innerHTML = "You are not Viktor!"
                                }
                                else {
                                    this.greetingTarget.innerHTML = "Welcome Viktor!"
                                }
                            }
                        }
                    </code></pre>

                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Stimulus</h1>
                        <p>Controller lifecycle methods:</p>
                    </div>
                </section>

                <section data-auto-animate>
                    <div style="text-align: left;">
                        <h1 style="color: gray;">Stimulus</h1>
                        <p style="color:gray;">Controller lifecycle methods:</p>
                        <span class="fragment">
                            <p><code>initialize()</code></p>
                            <p><small>Once, when the controller is first instantiated</small></p>
                        </span>
                        <span class="fragment">
                            <p><code>connect()</code></p>
                            <p><small>Anytime the controller is connected to the DOM</small></p>
                        </span>
                        <span class="fragment">
                            <p><code>disconnect()</code></p>
                            <p><small>Anytime the controller is disconnected from the DOM</small></p>
                        </span>
                    </div>
                </section>

                <section data-auto-animate>
                    <h1 class="r-fit-text">Stimulus</h1><br/>
                    <a href="https://active-game-night-test.azurewebsites.net/">demo</a>
                </section>

            </section>


        </div>
    </div>

    <script src="../dist/reveal.js"></script>
    <script src="../plugin/markdown/markdown.js"></script>
    <script src="../plugin/highlight/highlight.js"></script>
    <script src="../plugin/notes/notes.js"></script>

    <script>

        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
        });

    </script>

</body>

</html>